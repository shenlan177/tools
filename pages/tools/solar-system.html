<!DOCTYPE html>
<html lang="zh-CN">
<!-- å¯¼èˆªç»„ä»¶ -->
<script src="../../assets/js/nav-component.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤ªé˜³ç³»æ¼”ç¤º</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #020617;
            --bg-secondary: #0f172a;
            --bg-tertiary: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --accent: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow: hidden;
        }

        /* æ˜Ÿç©ºèƒŒæ™¯ */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100vh;
            z-index: 1;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }

        .title-section h1 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-top: 2px;
        }

        /* æ§åˆ¶é¢æ¿ */
        .controls {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .btn:hover {
            background: var(--bg-tertiary);
        }

        .btn.active {
            background: var(--accent);
            border-color: var(--accent);
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 50%;
            font-size: 1.1rem;
        }

        .speed-slider {
            width: 120px;
            accent-color: var(--accent);
        }

        /* ç”»å¸ƒåŒºåŸŸ */
        .canvas-container {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #solarCanvas {
            cursor: grab;
        }

        #solarCanvas:active {
            cursor: grabbing;
        }

        /* è¡Œæ˜Ÿä¿¡æ¯å¡ç‰‡ */
        .planet-info {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 20px 28px;
            display: flex;
            align-items: center;
            gap: 20px;
            max-width: 90%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .planet-info.show {
            opacity: 1;
            visibility: visible;
        }

        .planet-info-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            flex-shrink: 0;
        }

        .planet-info-content h3 {
            font-size: 1.25rem;
            margin-bottom: 4px;
        }

        .planet-info-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .planet-stats {
            display: flex;
            gap: 16px;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .stat {
            display: flex;
            flex-direction: column;
        }

        .stat-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .stat-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--accent);
        }

        .close-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: none;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: var(--border-color);
            color: var(--text-primary);
        }

        /* è½¨é“å¼€å…³ */
        .toggle-orbit {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .switch {
            position: relative;
            width: 44px;
            height: 24px;
            background: var(--bg-tertiary);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .switch.active {
            background: var(--accent);
        }

        .switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .switch.active::after {
            transform: translateX(20px);
        }

        /* æç¤º */
        .hint {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 10px 20px;
            color: var(--text-primary);
            font-size: 0.85rem;
            z-index: 50;
            animation: fadeOut 3s ease forwards;
            animation-delay: 2s;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 12px;
                padding: 12px 16px;
            }

            .controls {
                flex-wrap: wrap;
                justify-content: center;
            }

            .planet-info {
                flex-direction: column;
                text-align: center;
                padding: 16px 20px;
            }

            .planet-stats {
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <canvas class="stars" id="starsCanvas"></canvas>

    <div class="container">
        <header>
            <div class="title-section">
                <h1>ğŸŒŒ å¤ªé˜³ç³»æ¼”ç¤º</h1>
                <p class="subtitle">æ¢ç´¢æˆ‘ä»¬çš„å®‡å®™å®¶å›­ â€¢ ç‚¹å‡»è¡Œæ˜ŸæŸ¥çœ‹è¯¦æƒ…</p>
            </div>
            <div class="controls">
                <button class="btn btn-icon" id="playBtn" onclick="togglePlay()">â¸ï¸</button>

                <div class="control-group">
                    <span class="control-label">é€Ÿåº¦</span>
                    <input type="range" class="speed-slider" id="speedSlider" min="0.1" max="5" step="0.1" value="1">
                    <span id="speedValue">1x</span>
                </div>

                <div class="toggle-orbit">
                    <span class="control-label">è½¨é“</span>
                    <div class="switch active" id="orbitSwitch" onclick="toggleOrbit()"></div>
                </div>

                <button class="btn" onclick="resetView()">ğŸ¯ é‡ç½®è§†è§’</button>
            </div>
        </header>

        <div class="canvas-container">
            <canvas id="solarCanvas"></canvas>
        </div>

        <div class="hint" id="hint">ğŸ’¡ æ‹–åŠ¨ç”»é¢ç§»åŠ¨è§†è§’ â€¢ æ»šè½®ç¼©æ”¾ â€¢ ç‚¹å‡»è¡Œæ˜ŸæŸ¥çœ‹ä¿¡æ¯</div>
    </div>

    <!-- è¡Œæ˜Ÿä¿¡æ¯å¡ç‰‡ -->
    <div class="planet-info" id="planetInfo">
        <button class="close-btn" onclick="closePlanetInfo()">Ã—</button>
        <div class="planet-info-icon" id="planetIcon"></div>
        <div class="planet-info-content">
            <h3 id="planetName"></h3>
            <p id="planetDesc"></p>
            <div class="planet-stats">
                <div class="stat">
                    <span class="stat-label">ç›´å¾„</span>
                    <span class="stat-value" id="planetDiameter"></span>
                </div>
                <div class="stat">
                    <span class="stat-label">è·å¤ªé˜³</span>
                    <span class="stat-value" id="planetDistance"></span>
                </div>
                <div class="stat">
                    <span class="stat-label">å…¬è½¬å‘¨æœŸ</span>
                    <span class="stat-value" id="planetPeriod"></span>
                </div>
                <div class="stat">
                    <span class="stat-label">å«æ˜Ÿæ•°é‡</span>
                    <span class="stat-value" id="planetMoons"></span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è¡Œæ˜Ÿæ•°æ®
        const PLANETS = [
            {
                name: 'å¤ªé˜³',
                nameEn: 'Sun',
                radius: 40,
                orbitRadius: 0,
                period: 0,
                color: '#FDB813',
                gradient: ['#FDB813', '#F5A623', '#F37021'],
                icon: 'â˜€ï¸',
                description: 'å¤ªé˜³æ˜¯å¤ªé˜³ç³»çš„ä¸­å¿ƒæ’æ˜Ÿï¼Œå å¤ªé˜³ç³»æ€»è´¨é‡çš„99.86%ã€‚å®ƒçš„æ ¸å¿ƒæ¸©åº¦é«˜è¾¾1500ä¸‡åº¦ã€‚',
                diameter: '139ä¸‡å…¬é‡Œ',
                distance: '-',
                periodText: '-',
                moons: '-'
            },
            {
                name: 'æ°´æ˜Ÿ',
                nameEn: 'Mercury',
                radius: 6,
                orbitRadius: 70,
                period: 0.24,
                color: '#B5B5B5',
                gradient: ['#C4C4C4', '#A0A0A0', '#808080'],
                icon: 'ğŸª¨',
                description: 'æ°´æ˜Ÿæ˜¯å¤ªé˜³ç³»ä¸­æœ€å°çš„è¡Œæ˜Ÿï¼Œä¹Ÿæ˜¯æœ€é è¿‘å¤ªé˜³çš„è¡Œæ˜Ÿã€‚å®ƒçš„è¡¨é¢å¸ƒæ»¡é™¨çŸ³å‘ã€‚',
                diameter: '4,879å…¬é‡Œ',
                distance: '5,790ä¸‡å…¬é‡Œ',
                periodText: '88å¤©',
                moons: '0'
            },
            {
                name: 'é‡‘æ˜Ÿ',
                nameEn: 'Venus',
                radius: 10,
                orbitRadius: 100,
                period: 0.62,
                color: '#E6C87A',
                gradient: ['#E6D5A8', '#E6C87A', '#D4A84B'],
                icon: 'ğŸŒ•',
                description: 'é‡‘æ˜Ÿæ˜¯å¤ªé˜³ç³»ä¸­æœ€çƒ­çš„è¡Œæ˜Ÿï¼Œè¡¨é¢æ¸©åº¦é«˜è¾¾465Â°Cã€‚å®ƒçš„è‡ªè½¬æ–¹å‘ä¸å…¶ä»–è¡Œæ˜Ÿç›¸åã€‚',
                diameter: '12,104å…¬é‡Œ',
                distance: '1.082äº¿å…¬é‡Œ',
                periodText: '225å¤©',
                moons: '0'
            },
            {
                name: 'åœ°çƒ',
                nameEn: 'Earth',
                radius: 11,
                orbitRadius: 140,
                period: 1,
                color: '#6B93D6',
                gradient: ['#6B93D6', '#4F7DC9', '#2E5CB8'],
                icon: 'ğŸŒ',
                description: 'åœ°çƒæ˜¯æˆ‘ä»¬çš„å®¶å›­ï¼Œæ˜¯ç›®å‰å·²çŸ¥å”¯ä¸€å­˜åœ¨ç”Ÿå‘½çš„è¡Œæ˜Ÿã€‚å®ƒæœ‰ä¸°å¯Œçš„æ°´èµ„æºå’Œå¤§æ°”å±‚ã€‚',
                diameter: '12,742å…¬é‡Œ',
                distance: '1.496äº¿å…¬é‡Œ',
                periodText: '365å¤©',
                moons: '1',
                hasMoon: true,
                moonRadius: 3,
                moonOrbitRadius: 18,
                moonPeriod: 0.08
            },
            {
                name: 'ç«æ˜Ÿ',
                nameEn: 'Mars',
                radius: 8,
                orbitRadius: 185,
                period: 1.88,
                color: '#E27B58',
                gradient: ['#E27B58', '#C1440E', '#8B3A0F'],
                icon: 'ğŸ”´',
                description: 'ç«æ˜Ÿè¢«ç§°ä¸º"çº¢è‰²æ˜Ÿçƒ"ï¼Œè¡¨é¢æœ‰å¤ªé˜³ç³»æœ€é«˜çš„å±±å³°â€”â€”å¥¥æ—åŒ¹æ–¯å±±ã€‚',
                diameter: '6,779å…¬é‡Œ',
                distance: '2.279äº¿å…¬é‡Œ',
                periodText: '687å¤©',
                moons: '2'
            },
            {
                name: 'æœ¨æ˜Ÿ',
                nameEn: 'Jupiter',
                radius: 28,
                orbitRadius: 260,
                period: 11.86,
                color: '#D8CA9D',
                gradient: ['#D8CA9D', '#C4A35A', '#A67C52'],
                icon: 'ğŸŸ¤',
                description: 'æœ¨æ˜Ÿæ˜¯å¤ªé˜³ç³»æœ€å¤§çš„è¡Œæ˜Ÿï¼Œè´¨é‡æ˜¯å…¶ä»–æ‰€æœ‰è¡Œæ˜Ÿæ€»å’Œçš„2.5å€ã€‚å¤§çº¢æ–‘æ˜¯ä¸€åœºæŒç»­æ•°ç™¾å¹´çš„é£æš´ã€‚',
                diameter: '139,820å…¬é‡Œ',
                distance: '7.785äº¿å…¬é‡Œ',
                periodText: '12å¹´',
                moons: '95'
            },
            {
                name: 'åœŸæ˜Ÿ',
                nameEn: 'Saturn',
                radius: 24,
                orbitRadius: 340,
                period: 29.46,
                color: '#F4D59E',
                gradient: ['#F4D59E', '#E8C87A', '#D4A84B'],
                icon: 'ğŸª',
                hasRing: true,
                description: 'åœŸæ˜Ÿä»¥å…¶å£®è§‚çš„ç¯ç³»ç»Ÿé—»åï¼Œè¿™äº›ç¯ä¸»è¦ç”±å†°å—å’Œå²©çŸ³ç¢ç‰‡ç»„æˆã€‚',
                diameter: '116,460å…¬é‡Œ',
                distance: '14.29äº¿å…¬é‡Œ',
                periodText: '29å¹´',
                moons: '146'
            },
            {
                name: 'å¤©ç‹æ˜Ÿ',
                nameEn: 'Uranus',
                radius: 16,
                orbitRadius: 410,
                period: 84.01,
                color: '#9FD8DF',
                gradient: ['#C5E8ED', '#9FD8DF', '#7AC5D0'],
                icon: 'ğŸ”µ',
                description: 'å¤©ç‹æ˜Ÿæ˜¯ä¸€ä¸ªå†°å·¨æ˜Ÿï¼Œå®ƒçš„è‡ªè½¬è½´å‡ ä¹ä¸å…¬è½¬è½¨é“å¹³è¡Œï¼Œåƒ"èººç€"è½¬åŠ¨ã€‚',
                diameter: '50,724å…¬é‡Œ',
                distance: '28.71äº¿å…¬é‡Œ',
                periodText: '84å¹´',
                moons: '28'
            },
            {
                name: 'æµ·ç‹æ˜Ÿ',
                nameEn: 'Neptune',
                radius: 15,
                orbitRadius: 470,
                period: 164.8,
                color: '#5B7FDE',
                gradient: ['#7B9FEE', '#5B7FDE', '#3B5FBE'],
                icon: 'ğŸ”µ',
                description: 'æµ·ç‹æ˜Ÿæ˜¯å¤ªé˜³ç³»æœ€è¿œçš„è¡Œæ˜Ÿï¼Œæ‹¥æœ‰å¤ªé˜³ç³»ä¸­æœ€å¼ºçš„é£ï¼Œé£é€Ÿå¯è¾¾2100å…¬é‡Œ/å°æ—¶ã€‚',
                diameter: '49,244å…¬é‡Œ',
                distance: '45.04äº¿å…¬é‡Œ',
                periodText: '165å¹´',
                moons: '16'
            }
        ];

        // çŠ¶æ€
        let isPlaying = true;
        let showOrbits = true;
        let speed = 1;
        let time = 0;
        let offsetX = 0;
        let offsetY = 0;
        let scale = 1;
        let isDragging = false;
        let lastX, lastY;
        let hoveredPlanet = null;
        let selectedPlanet = null;

        // ç”»å¸ƒ
        const canvas = document.getElementById('solarCanvas');
        const ctx = canvas.getContext('2d');
        const starsCanvas = document.getElementById('starsCanvas');
        const starsCtx = starsCanvas.getContext('2d');

        // æ˜Ÿæ˜Ÿæ•°æ®
        let stars = [];

        // åˆå§‹åŒ–
        function init() {
            resizeCanvas();
            generateStars();
            setupEventListeners();
            animate();
        }

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            starsCanvas.width = window.innerWidth;
            starsCanvas.height = window.innerHeight;
            generateStars();
        }

        function generateStars() {
            stars = [];
            for (let i = 0; i < 300; i++) {
                stars.push({
                    x: Math.random() * starsCanvas.width,
                    y: Math.random() * starsCanvas.height,
                    size: Math.random() * 1.5 + 0.5,
                    alpha: Math.random() * 0.5 + 0.5,
                    twinkle: Math.random() * 0.02
                });
            }
        }

        function drawStars() {
            starsCtx.fillStyle = '#020617';
            starsCtx.fillRect(0, 0, starsCanvas.width, starsCanvas.height);

            stars.forEach(star => {
                star.alpha += star.twinkle;
                if (star.alpha > 1 || star.alpha < 0.3) star.twinkle *= -1;

                starsCtx.beginPath();
                starsCtx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                starsCtx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
                starsCtx.fill();
            });
        }

        function setupEventListeners() {
            window.addEventListener('resize', resizeCanvas);

            // é€Ÿåº¦æ»‘å—
            const slider = document.getElementById('speedSlider');
            slider.addEventListener('input', (e) => {
                speed = parseFloat(e.target.value);
                document.getElementById('speedValue').textContent = speed.toFixed(1) + 'x';
            });

            // æ‹–åŠ¨
            canvas.addEventListener('mousedown', (e) => {
                isDragging = true;
                lastX = e.clientX;
                lastY = e.clientY;
            });

            canvas.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    offsetX += e.clientX - lastX;
                    offsetY += e.clientY - lastY;
                    lastX = e.clientX;
                    lastY = e.clientY;
                } else {
                    // æ£€æµ‹æ‚¬åœ
                    checkHover(e.clientX, e.clientY);
                }
            });

            canvas.addEventListener('mouseup', () => isDragging = false);
            canvas.addEventListener('mouseleave', () => {
                isDragging = false;
                hoveredPlanet = null;
                canvas.style.cursor = 'grab';
            });

            // ç‚¹å‡»
            canvas.addEventListener('click', (e) => {
                if (!isDragging) {
                    checkClick(e.clientX, e.clientY);
                }
            });

            // ç¼©æ”¾
            canvas.addEventListener('wheel', (e) => {
                e.preventDefault();
                const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
                scale = Math.max(0.3, Math.min(3, scale * zoomFactor));
            });

            // è§¦æ‘¸æ”¯æŒ
            canvas.addEventListener('touchstart', (e) => {
                if (e.touches.length === 1) {
                    isDragging = true;
                    lastX = e.touches[0].clientX;
                    lastY = e.touches[0].clientY;
                }
            });

            canvas.addEventListener('touchmove', (e) => {
                if (isDragging && e.touches.length === 1) {
                    offsetX += e.touches[0].clientX - lastX;
                    offsetY += e.touches[0].clientY - lastY;
                    lastX = e.touches[0].clientX;
                    lastY = e.touches[0].clientY;
                }
            });

            canvas.addEventListener('touchend', () => isDragging = false);
        }

        function checkHover(mx, my) {
            const centerX = canvas.width / 2 + offsetX;
            const centerY = canvas.height / 2 + offsetY;
            hoveredPlanet = null;

            for (let i = PLANETS.length - 1; i >= 0; i--) {
                const planet = PLANETS[i];
                const pos = getPlanetPosition(planet, time);
                const px = centerX + pos.x * scale;
                const py = centerY + pos.y * scale;
                const r = planet.radius * scale;

                const distance = Math.sqrt((mx - px) ** 2 + (my - py) ** 2);
                if (distance < r + 5) {
                    hoveredPlanet = planet;
                    canvas.style.cursor = 'pointer';
                    return;
                }
            }
            canvas.style.cursor = 'grab';
        }

        function checkClick(mx, my) {
            const centerX = canvas.width / 2 + offsetX;
            const centerY = canvas.height / 2 + offsetY;

            for (let i = PLANETS.length - 1; i >= 0; i--) {
                const planet = PLANETS[i];
                const pos = getPlanetPosition(planet, time);
                const px = centerX + pos.x * scale;
                const py = centerY + pos.y * scale;
                const r = planet.radius * scale;

                const distance = Math.sqrt((mx - px) ** 2 + (my - py) ** 2);
                if (distance < r + 5) {
                    showPlanetInfo(planet);
                    return;
                }
            }
        }

        function getPlanetPosition(planet, t) {
            if (planet.orbitRadius === 0) return { x: 0, y: 0 };
            const angle = (t / planet.period) * Math.PI * 2;
            return {
                x: Math.cos(angle) * planet.orbitRadius,
                y: Math.sin(angle) * planet.orbitRadius * 0.4 // æ¤­åœ†è½¨é“
            };
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const centerX = canvas.width / 2 + offsetX;
            const centerY = canvas.height / 2 + offsetY;

            // ç»˜åˆ¶è½¨é“
            if (showOrbits) {
                PLANETS.forEach(planet => {
                    if (planet.orbitRadius > 0) {
                        ctx.beginPath();
                        ctx.ellipse(
                            centerX, centerY,
                            planet.orbitRadius * scale,
                            planet.orbitRadius * scale * 0.4,
                            0, 0, Math.PI * 2
                        );
                        ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                        ctx.lineWidth = 1;
                        ctx.stroke();
                    }
                });
            }

            // ç»˜åˆ¶è¡Œæ˜Ÿ
            PLANETS.forEach(planet => {
                const pos = getPlanetPosition(planet, time);
                const x = centerX + pos.x * scale;
                const y = centerY + pos.y * scale;
                const r = planet.radius * scale;

                // åœŸæ˜Ÿç¯
                if (planet.hasRing) {
                    ctx.beginPath();
                    ctx.ellipse(x, y, r * 1.8, r * 0.4, -0.2, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(210, 180, 140, 0.6)';
                    ctx.lineWidth = r * 0.15;
                    ctx.stroke();
                }

                // è¡Œæ˜Ÿæœ¬ä½“
                const gradient = ctx.createRadialGradient(
                    x - r * 0.3, y - r * 0.3, 0,
                    x, y, r
                );
                gradient.addColorStop(0, planet.gradient[0]);
                gradient.addColorStop(0.7, planet.gradient[1]);
                gradient.addColorStop(1, planet.gradient[2]);

                ctx.beginPath();
                ctx.arc(x, y, r, 0, Math.PI * 2);
                ctx.fillStyle = gradient;
                ctx.fill();

                // å¤ªé˜³å…‰æ™•
                if (planet.name === 'å¤ªé˜³') {
                    const glow = ctx.createRadialGradient(x, y, r, x, y, r * 2);
                    glow.addColorStop(0, 'rgba(253, 184, 19, 0.5)');
                    glow.addColorStop(0.5, 'rgba(253, 184, 19, 0.2)');
                    glow.addColorStop(1, 'rgba(253, 184, 19, 0)');
                    ctx.beginPath();
                    ctx.arc(x, y, r * 2, 0, Math.PI * 2);
                    ctx.fillStyle = glow;
                    ctx.fill();
                }

                // åœ°çƒæœˆçƒ
                if (planet.hasMoon) {
                    const moonAngle = (time / planet.moonPeriod) * Math.PI * 2;
                    const moonX = x + Math.cos(moonAngle) * planet.moonOrbitRadius * scale;
                    const moonY = y + Math.sin(moonAngle) * planet.moonOrbitRadius * scale * 0.5;

                    ctx.beginPath();
                    ctx.arc(moonX, moonY, planet.moonRadius * scale, 0, Math.PI * 2);
                    ctx.fillStyle = '#CCCCCC';
                    ctx.fill();
                }

                // æ‚¬åœæ•ˆæœ
                if (hoveredPlanet === planet) {
                    ctx.beginPath();
                    ctx.arc(x, y, r + 3, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(59, 130, 246, 0.8)';
                    ctx.lineWidth = 2;
                    ctx.stroke();

                    // åç§°æ ‡ç­¾
                    ctx.font = '14px Inter';
                    ctx.fillStyle = '#fff';
                    ctx.textAlign = 'center';
                    ctx.fillText(planet.name, x, y - r - 10);
                }
            });
        }

        function animate() {
            if (isPlaying) {
                time += 0.002 * speed;
            }
            drawStars();
            draw();
            requestAnimationFrame(animate);
        }

        // æ§åˆ¶å‡½æ•°
        function togglePlay() {
            isPlaying = !isPlaying;
            document.getElementById('playBtn').textContent = isPlaying ? 'â¸ï¸' : 'â–¶ï¸';
        }

        function toggleOrbit() {
            showOrbits = !showOrbits;
            document.getElementById('orbitSwitch').classList.toggle('active', showOrbits);
        }

        function resetView() {
            offsetX = 0;
            offsetY = 0;
            scale = 1;
        }

        function showPlanetInfo(planet) {
            selectedPlanet = planet;
            const info = document.getElementById('planetInfo');
            document.getElementById('planetIcon').textContent = planet.icon;
            document.getElementById('planetIcon').style.background = `linear-gradient(135deg, ${planet.gradient[0]}, ${planet.gradient[2]})`;
            document.getElementById('planetName').textContent = planet.name + ' ' + planet.nameEn;
            document.getElementById('planetDesc').textContent = planet.description;
            document.getElementById('planetDiameter').textContent = planet.diameter;
            document.getElementById('planetDistance').textContent = planet.distance;
            document.getElementById('planetPeriod').textContent = planet.periodText;
            document.getElementById('planetMoons').textContent = planet.moons;
            info.classList.add('show');
        }

        function closePlanetInfo() {
            document.getElementById('planetInfo').classList.remove('show');
            selectedPlanet = null;
        }

        // å¯åŠ¨
        init();
    </script>
</body>

</html>